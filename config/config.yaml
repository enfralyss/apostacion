# TriunfoBet Bot Configuration

# Betting Platform
triunfobet:
  url: "https://www.triunfobet.com"
  login_url: "https://www.triunfobet.com/login"
  username: ""  # Set via environment variable TRIUNFOBET_USER
  password: ""  # Set via environment variable TRIUNFOBET_PASS
  headless: true
  timeout: 30

# Bankroll Management - PROFESIONAL
# Kelly Criterion + Fixed % = Crecimiento sostenible
bankroll:
  initial: 5000.0  # Starting bankroll in currency
  max_bet_percentage: 1.5  # Max 1.5% per bet (reducido de 2% - más conservador)
  kelly_fraction: 0.08  # 8% Kelly (reducido de 10% - evita volatilidad extrema)
  stop_loss_percentage: 25.0  # Stop si drawdown > 25% (aumentado - más realista)
  min_bankroll: 1000.0  # Minimum bankroll to continue betting
  target_roi_monthly: 5.0  # Objetivo 5% mensual = 60% anual (muy bueno en betting)

# Pick Selection Criteria - SHARP BETTOR (Rentabilidad a largo plazo)
# Basado en estrategias de profesionales con CLV positivo
picks:
  min_probability: 0.55  # 55% = Realista para sharp betting (vs 50% = coin flip)
  min_edge: 0.03  # 3% edge = Estándar profesional (estudios muestran 2-4% = profitable)
  min_odds: 1.60  # Evita favoritos extremos (bajo valor)
  max_odds: 3.00  # Permite underdogs con valor (expanded from 2.20)
  max_picks_per_league: 2  # Mayor flexibilidad para encontrar valor

# Parlay Configuration - CONSERVADOR pero REALISTA
# Objetivo: Ganancias consistentes, no home runs
parlay:
  min_picks: 3  # Mínimo para multiplicar odds
  max_picks: 4  # Reducido de 5 - Menos picks = Mayor probabilidad
  min_total_odds: 4.0  # Reducido de 5.0 - Más conservador
  max_total_odds: 12.0  # Reducido de 20.0 - Evita parlays imposibles
  min_combined_probability: 0.12  # 12% chance = Razonable (was 15%, too strict)

# Sports and Leagues
sports:
  soccer:
    - Premier League
    - La Liga
    - Serie A
    - Bundesliga
    - Champions League
    - Europa League
  basketball:
    - NBA

# Enabled sports (scope actual de operación). Mantener arquitectura multi-deporte pero
# actualmente sólo entrenamos y apostamos sobre soccer para maximizar calidad de datos.
enabled_sports:
  - soccer

# Data Sources
data_sources:
  soccer_api: "https://api.football-data.org/v4"
  nba_api: "https://stats.nba.com/stats"
  backup_source: "https://www.api-football.com/v3"

# Model Configuration
model:
  type: "xgboost"  # Options: xgboost, random_forest, gradient_boosting
  train_seasons: 2  # Number of past seasons to train on
  validation_split: 0.2
  random_state: 42
  hyperparameters:
    n_estimators: 200
    max_depth: 6
    learning_rate: 0.1

# Features Engineering
features:
  - win_rate_last_10
  - form_last_5
  - home_away_record
  - head_to_head
  - goals_scored_avg
  - goals_conceded_avg
  - days_rest
  - injuries_count
  - stat_differential

# Scheduling
schedule:
  daily_run_time: "10:00"  # Run daily at 10:00 AM
  timezone: "America/Mexico_City"

# Notifications
telegram:
  enabled: true
  bot_token: ""  # Set via environment variable TELEGRAM_BOT_TOKEN
  chat_id: ""  # Set via environment variable TELEGRAM_CHAT_ID

# Database
database:
  type: "sqlite"  # Options: sqlite, postgresql, mongodb
  sqlite_path: "data/betting_history.db"
  postgresql:
    host: "localhost"
    port: 5432
    database: "triunfobet_db"
    user: ""
    password: ""

# Logging
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  file: "logs/triunfobet_bot.log"
  rotation: "10 MB"
  retention: "30 days"

# Paper Trading
paper_trading:
  enabled: true  # Start with simulation mode
  duration_days: 30  # Simulate for 30 days before going live

# Risk Management - ADAPTATIVO
# El sistema se vuelve más conservador después de pérdidas
risk:
  max_consecutive_losses: 5  # Alert después de 5 pérdidas (aumentado - más realista)
  max_drawdown_alert: 20.0  # Alert si drawdown > 20% (aumentado de 15%)
  min_edge_increase_on_loss: 0.01  # Aumenta edge +1% por cada pérdida consecutiva
  reduce_stake_on_loss: true  # Reduce stake 20% después de pérdida
  increase_stake_on_win_streak: true  # Aumenta stake 10% después de 3 victorias
  min_clv_target: 0.03  # Objetivo CLV 3%+ para ser sharp bettor
